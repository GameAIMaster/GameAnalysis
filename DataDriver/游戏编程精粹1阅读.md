游戏在启动的时候会利用文本分析器从文件中读取数据，而不是写在代码中，数据和逻辑的分离，能够方便设计人员和测试进行各种新的尝试，新的测试。文本文件解析系统是必不可少的工具。

​	最低标准：不要硬编码常量，把常量放到文本文件中，避免编译代码。

​	**杜绝**硬编码，假定任何东西都可能改变。核心部分抽象成概念，而不是设计文档中写的局限性的行为。

​	将控制流写成脚本：**脚本**是一种在代码外定义行为的方法。什么应该写在脚本中?切场景，简单的因果逻辑，搜索的完成状态或者环境触发器。什么写在代码里？通用的概念抽象，软件的运行框架，各个系统架构。游戏编程精粹中说不适合在脚本中编写复杂逻辑，受限于当时脚本语言无法调试。当脚本语言方便易用时可以充当有限状态机处理游戏逻辑，在UE4中蓝图则是为设计师提供了可视化处理游戏逻辑的方案，当然会有性能上的损耗，但是符合安德比尔定律。在天龙项目中策划则只能通过文档来设计游戏，这是一个缺点，应将基本的控制逻辑接口提供出来供策划修改。什么是基本的控制逻辑？通过我在项目中以及使用UE4引擎的经验归纳来讲没有复杂的逻辑结构，只暴露出数据驱动的评价函数或者保留基本的比较判断，至于判断后的连锁状态修改则由程序员解决。

​	DRY（Don't repeat yourself）原则,通用的逻辑要写成方法，通用的数据要能够继承

​	开发工具生成数据，通过采样还能生成概率性的数据。在python3中itertools.product能够生成具备各种条件的数据



### 面向对象

​	扩展类之间的合作包含两种方式继承和分层（component），区别在于描述是‘是’还是‘有’。类的内部则是用Conpect（包括属性和方法）描述。

插播一个面试题：我在设计活动列表使用的是二叉树，由于活动会在更新时变动，我就利用二叉树结构，方便排序更新，面试官问我为什么不采用for循环，活动数据量很大么？我当时分析了两个数据结构的空间占用。妥协的承认for循环也更好。这种两面倒的回答方式表示采用这个数据结构只是为了炫技，其实树形结构具有比数组优秀的增删改和排序功能，而且活动日程表主要是排序变动，活动开启和关闭，对于查找功能需求不高。



​	自动单例模式中模板的构造函数中的this是指基类是指针，要求出子类的指针需要求偏移，通过对1虚构的对象强制转换成两种类型得到偏移。天龙项目中唯一对象使用的是全局类，这有三个缺点：

 	1. 使用时需要extern引入
		2. 没有设定访问权限，外部能随意改动
		3. 无法按照意愿创建和销毁

UE4引擎中使用的是传统定义单例的方法，静态变量+create+destroy方法

### 一个通用的函数绑定接口

​	

